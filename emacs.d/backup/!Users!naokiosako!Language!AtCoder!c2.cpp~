#include<bits/stdc++.h>
using namespace std;

int main(){
    int N, Q, ans = 0;
    string s;
    cin >> N >> Q;;
    cin >> s;
    vector<int> v(N+2, 1);

    char t[Q+1], d[Q+1];

    for(int i = 0; i < Q; i++) {
	cin >> t[i] >> d[i];
    }
    int l=0, r=N-1;
    while(true){
	for(int i = Q-1; i >=0; i--) {
	    if(s[l] == t[i]){
		l++;
	    }
	}
    }

    for(int i = 0; i < Q; i++) {
	for(int j = 0; j < N; j++) {
	    if(d[i] == 'R'){
		if(s[N-j-1] == t[i]){
		    v[N-j] += v[N-j-1];
		    v[N-j-1] = 0;
		}
		    
	    }	
	    else{
		if(s[j] == t[i]){
		    if(j-1>=0)
			v[j-1] += v[j];
		    v[j] = 0;
		}		
	    }
	    
	}
    }

    for(int i=0; i<N; i++)
	ans += v[i];

    cout << ans << "\n";	        	      
}



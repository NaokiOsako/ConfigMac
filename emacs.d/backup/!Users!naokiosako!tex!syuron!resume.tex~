
%% 参考文献の名前とかの書き方揃える！！

\documentclass[a4paper, twocolumn]{jsarticle}
%\usepackage{newenum}
\usepackage[dvipdfmx]{graphicx}
\usepackage{latexsym}
%% \usepackage{comment}
\usepackage{amsmath}
%\usepackage[fleqn]{amsmath}
%\usepackage[psamsfonts]{amssymb}

%% \usepackage{txfonts}
\usepackage{bm}
%% \usepackage{boxedminipage}
\usepackage{multicol}
%\usepackage[dvipdfmx]{graphicx}
\usepackage{listings}%, jlisting}
%\usepackage{framed}
\usepackage{setspace}
%\usepackage{graphics}
%\usepackage{graphicx}
%% \usepackage{subfigure}
\usepackage{verbatim}
\usepackage{caption}
\usepackage{dcolumn}
%URLを記述するためのもの
\usepackage{url}
\pagestyle{plain}

%高さ
\setlength{\textheight}{\paperheight}
%% \setlength{\topmargin}{-25.0truemm}
\setlength{\topmargin}{-30truemm}
%% \addtolength{\topmargin}{-\headheight}
%% \addtolength{\topmargin}{-\headsep}
%% \addtolength{\textheight}{-25truemm} % 段組の縦幅？
\addtolength{\textheight}{-18truemm} % 段組の縦幅？
%% 変更する最終手段



%幅
\setlength{\textwidth}{\paperwidth}
\setlength{\oddsidemargin}{-10.4truemm}
\setlength{\evensidemargin}{-10.4truemm}
\addtolength{\textwidth}{-30truemm} % 段組の幅

\renewcommand{\baselinestretch}{0.76}
% 本文と図のスペース
\setlength\textfloatsep{0.5em} % 下
%\setlength\intextsep{10pt} % 上


\makeatletter
% sectionの下マージンを小さく
\renewcommand{\section}{%
  \@startsection{section}{1}{\z@}%
                {0.3\Cvs}{0.2\Cvs}%
                {\normalfont\large\headfont\raggedright}}
\makeatother

\begin{document}


\twocolumn[
  \begin{flushright}
    修士論文審査 2020 年 2 月 13 日
  \end{flushright}
  \vspace{4pt}
  \begin{center}
    \bf
       {\LARGE
         電流兆候解析に基づくDCモーターのオンライン故障検知
       }
  \end{center}
  \begin{center}
    \large{石浦研究室 47018305 大窄 直樹}\\
  \end{center}
  \bigskip
]

\pagestyle{empty}


\section{はじめに}
モーターは家電から産業機器に内蔵されている.
このような機器が故障し動作を停止すると社会活動にまで影響を与えるため, それらを未然に防ぐ対策が非常に重要になっている.

機器の状態を推定する手法に電流兆候解析等がある.
電流兆候解析は, エアギャップの変化, 回転子の抵抗値の変化などが空間時速線に影響を与え,
逆起電力を通して電流に反映しているという理論に基づいたもので, 回転子の故障, 静的/動的偏心等の故障を検知できる\cite{Toyota}.
個々のモーター関連設備に振動・温度センサーを設置する必要なく,
電気室にある制御盤内に設置された電流センサーによるセンシングデータをもとに遠隔で分析を行えるため, この手法が故障検知の主流になりつつある.

しかし信号処理で行う周波数解析の計算量が多いため, 故障検知のオンライン化及び劣化に応じたモーター制御が困難という課題がある.
文献 \cite{Sreedhar} は, ブラシレスDCモーターの電流兆候解析による故障検知を行っている.
しかし, これらの手法は電流兆候解析の処理の一部である周波数解析の計算量が多く, 時間を要するためオフラインでの実装である.
さらに, ブラシレスDCモーターの故障検知では, PWM信号のduty比を変更した故障検知を行なっていない.
また, 文献 \cite{Shubhasish} は, 電流兆候解析の高速化のためモーターの電流信号をハードウェアに送信しているが, オンライン故障検知を実装するまでには至っていない.

そこで, 本稿では電流兆候解析に基づくDCモーターのオンライン故障検知を試みる.
電流兆候解析の手法として, モーターに流れる電流の低周波数帯の高調波成分が, 故障したモーターの場合に増加することを利用して故障を検知する.
実装はプログラマブルSoCで行い, 計算量の多い周波数解析をハードウェア実装し, 他の計算量の少ない処理をソフトウェア実装する.
提案手法に基づき実験を行なった結果, PWM信号のduty比を変更しても故障検知が可能で, 周波数解析を高速化することでオンライン故障検知が可能になった.

\section{DCモーターの故障検知}
モーターは, AC (Alternating Curren)モーターとDC (Direct Current)モータに大別することができる.
さらにDCモータには, ブラシ付きDCモーターとブラシレスDCモーターがあるが, 本稿ではブラシ付きDCモーターを対象とする.


\section{DCモーターの故障検知}
モーターは, AC (Alternating Curren)モーターとDC (Direct Current)モータに大別することができる.
さらにDCモータには, ブラシ付きDCモーターとブラシレスDCモーターがあるが, 本稿ではブラシ付きDCモーターを対象とする.

\subsection{電流兆候解析}
電流兆候解析は, 固定子と回転子のエアギャップの変化,回転子の抵抗値の変化などが空間時速線に影響を与え,
逆起電力を通して固定子に流れる電流に反映しているという理論に基づいたものである \cite{Toyota}.
また, 電気室にある制御盤内に設置された電流センサーによるセンシングデータをもとに遠隔で分析を行えるため, 初期コストが低い特徴がある.
回転子, 固定子, 静的/動的な偏心の故障などを検知することができる.
また, 検出信号に信号処理を施すことで軸受の故障も検知できる.
AC モーター, サーボモーター, BLDCモーター等広い範囲で適用され効果をあげている.

また, 信号処理で周波数解析を行う必要があり処理に時間がかかりオンライン故障検知が困難という課題がある.

文献 \cite{Shubhasish} では, 電流兆候解析に基づいてブラシレスDCモーターのオフライン故障検知を行っている.
対象とする故障は歯車の歯こぼれで, 歯が1つ欠けた故障及び, 歯が2つ欠けた故障を対象にしている.
故障したモーターは正常なものと比べ最大周波数成分が高いことが分かる.

\section{予備実験}
\subsection{実験の概要}
電流兆候解析によりDCモーターの故障検知を行うため, DCモーターの周波数成分の特徴を調べる予備実験を行った.

文献 \cite{Shubhasish}のブラシレスDCモーターの故障検知ではブラシレスDCモーターが故障した場合, 低周波数帯の最高周波数成分に影響を与えた.
そこで, DCモーターの場合についても調べた.
また, DCモーターのPWM信号のduty比による最高周波数成分の変化についても調べた.


\subsection{モーターの周波数成分}
図 \ref{power}は取得した周波数成分をパワースペクトルにしたものである.
周波数成分のサンプル数は512点, DCモーターのduty比は50\%, 周波数帯は0-500Hzのデータを取得した.
(a)が正常なモーター, (b)が故障したモーターのパワースペクトルである.
この実験により, 文献\cite{Shubhasish}と同様にDCモーターでも故障により低周波数帯の最大周波数成分が増加することが確認できた.
したがって, 正常なモーターと故障したモーターは低周波数帯の最高周波数成分の大きさにより判別できると考えられる.

\begin{figure}[htb]
  \begin{center}
    \includegraphics[width=70mm]{power.png}
  \end{center}
  \vspace{-15pt}
  \caption{モーターのパワースペクトル}
  \label{power}
\end{figure}

PWM信号を変化をさせることにより, 低周波数帯の最大周波数成分にどのような影響を与えるか調べた.

DCモーターを正常なモーター10個, 故障したモーター5個の合計15個の利用した.
PWM信号のduty比が25\%, 50\%, 75\% の場合について調べた.
正常なモーターは各モーター, 各duty比に対して5回最大周波数成分を取得し, 故障したモーターは10回最大周波数成分を取得した.

取得したduty比ごとの最大周波数成分を離散確率分布図 \ref{seiki} に示す.
故障したモーターの最大周波数成分が正常なものと比べ大きい関係は, duty比が 25\%, 50\%, 75\%のとき全てで成り立っている.
そのため, duty比が変化しても低周波数帯の最高周波数成分を調べることにより故障を検出できると考えられる.

また, 図 \ref{seiki}からduty比が小さいほど, 正常時及び, 故障時ともに最高周波数成分が増加することがわかった.

\begin{figure}[htb]
  \begin{center}
    \includegraphics[width=90mm]{saidai.png}
  \end{center}
  \vspace{-10pt}
  \caption{最大周波数成分の離散確率分布図}
  \label{seiki}
  
\end{figure}

\section{プログラマブルSoCによるオンライン故障検知}

\subsection{システムの構成}
本稿ではZYBO Zynq-7000 Development Boardを用いて電流兆候解析のオンライン故障検知を行った.
またLinuxを動作及び, PS-PL間との通信を実現のためにOSにXillynuxを用いた.
システムの全体像を図\ref{gaiyou}に示す.
図の深緑の実装をがPS部で行い, オレンジの実装をPL部で行った.
本手法では, 駆動しているモーターから電流信号を取得した.
データの送信が終わり次第, PS部からPL部にデータの送信終了信号をデバイスドライバを通して送りPL部分で512点の固定小数点FFTを行った.
その後, PS部からPL部のデータを取得しスペクトル解析を行うことでモーターの劣化及び故障を検出した.

\begin{figure}[htb]
  \begin{center}
    \includegraphics[width=70mm]{gaiyou.png}
  \end{center}
  \vspace{-10pt}
  \caption{プログラマブルSoCを用いた実装}
  \label{gaiyou}
\end{figure}


\section{実験結果}
本実装で正常なモーター1個と故障したモーター1個それぞれでデータを100個取得した.
duty比変更時でも故障検知できるか確かめるために, それぞれのデータの取得間隔を1秒としduty比を変更させながらデータを取得した.
取得したデータを表したものが図\ref{sanp} である.
縦軸が最大周波数で単位は$V^2$, 横軸はduty比で単位は\%である.
オレンジの点が正常なモーターから取得したデータ, 青の点が故障したデータである.
また正常なモーター, 故障したモーターのデータを最小二乗法により線形予測したものがオレンジの直線, 青の直線である.

故障したモーターの最大周波数成分は, 正常なものと比べ, 任意のduty比においてほとんどのデータが大きなものとなっている.
また, 線形予測の直線により, 両方のモーター共にduty比の増加に伴い最大周波数成分が小さくなった.

これらの結果から, 故障したモーターの線形予測を下回っていたら正常, 上回っていたら故障とすることで故障検知を行うことができる.

\begin{figure}[htb]
  \begin{center}
    \includegraphics[width=85mm]{sanp.png}
  \end{center}
  \label{sanp}
  \vspace{-20pt}
  \caption{実験結果}
\end{figure}

\section{むすび}
本稿では, 電流兆候解析に基づくDCモーターのオンライン故障検知を提案した.
提案手法に基づき実験を行った結果, PWM信号のduty比を変更しても故障検知が可能で, 周波数解析を高速化することでオンライン故障検知が可能になった.
今後の課題は, 負荷を与えたモーターでの故障検知, 及び劣化を抑制するようなモーター制御が重要な課題となる.

\begin{small}
  \begin{thebibliography}{9}
\bibitem{Toyota}
 豊田 利夫:
  電流兆候解析 MCSA による電動機駆動回転機の診断技術 (online),
  \url{https://www.takada.co.jp/~takada-co-jp/giho/pdf/gihou20/kikou_1.pdf} 
  (accessed 2019-08-27).

\bibitem{Sreedhar}
  G. Sreedhar Babu, A. Lingamurthy, and A. Seshadri Sekhar:
  ``Condition monitoring of brushless DC motor-based electromechanical linear actuators using motor current signature analysis,''
  \textit{International Journal of Condition Monitoring}, vol.~1, no.~1, pp. ~20--32 (June~2011).

\bibitem{Shubhasish}
  %% Shubhasish Sarkar, Pranab Kumar Hembram, Prithwiraj Purkait, and Santanu Das:
  S. Sarkar, P. Kumar Hembram, P. Purkait, and S. Das:
  ``Acquisition and pre-processing of three phase induction motor stator current signal for fault diagnosis using FPGA, NI Compact-RIO Real Time Controller,''
  in \textit{Proc. UPCON 2016}, pp.~110--114 (Dec.~2016).
  \end{thebibliography}
\end{small}
\end{document}

